<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é–±è®€åµæ¢åœ˜ï¼šè¡Œå‹•çš„æ°´æ»´ (æ•™å¸«æ§å ´ç‰ˆ v2)</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&display=swap');
        body { 
            font-family: 'Noto Sans TC', sans-serif; 
            user-select: none; 
            background-color: #f1f5f9;
            margin: 0;
            padding: 0;
            overflow: hidden; /* é˜²æ­¢æ²å‹• */
        }
        .slide-enter { animation: slideIn 0.5s ease-out; }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .btn-active:active { transform: scale(0.95); }
        ::-webkit-scrollbar { display: none; }
        /* æŠ½ç±¤å‹•ç•« */
        .slot-machine { animation: slotSpin 0.1s infinite; }
        @keyframes slotSpin {
            0% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
            100% { transform: translateY(0); }
        }
    </style>
</head>
<body class="w-screen h-screen">
    <div id="root" class="w-full h-full"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- SVG åœ–ç¤ºçµ„ä»¶ ---
        const Icons = {
            ArrowLeft: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M19 12H5"/><path d="M12 19l-7-7 7-7"/></svg>,
            ArrowRight: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M5 12h14"/><path d="M12 5l7 7-7 7"/></svg>,
            Search: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>,
            Book: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/></svg>,
            Check: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><polyline points="20 6 9 17 4 12"/></svg>,
            X: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>,
            Sort: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M11 5h10"/><path d="M11 9h7"/><path d="M11 13h4"/><path d="M3 17l3 3 3-3"/><path d="M6 18V4"/></svg>,
            Chart: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg>,
            Users: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>,
            Award: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><circle cx="12" cy="8" r="7"/><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"/></svg>,
            XCircle: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg>,
            RefreshCcw: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M3 2v6h6"/><path d="M21 12A9 9 0 0 0 6 5.3L3 8"/><path d="M21 22v-6h-6"/><path d="M3 12a9 9 0 0 0 15 6.7l3-2.7"/></svg>,
            Plus: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>,
            Minus: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><line x1="5" y1="12" x2="19" y2="12"/></svg>,
            Dice: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><rect x="2" y="2" width="20" height="20" rx="5" ry="5"/><path d="M16 8h.01"/><path d="M8 8h.01"/><path d="M8 16h.01"/><path d="M16 16h.01"/><path d="M12 12h.01"/></svg>,
            MapPin: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>,
            HelpCircle: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>,
            Target: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/></svg>,
            BarChart: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><line x1="12" y1="20" x2="12" y2="10"/><line x1="18" y1="20" x2="18" y2="4"/><line x1="6" y1="20" x2="6" y2="16"/></svg>,
            PieChart: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M21.21 15.89A10 10 0 1 1 8 2.83"/><path d="M22 12A10 10 0 0 0 12 2v10z"/></svg>,
            Timer: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>,
            // æ–°å¢ç®­é ­æ¨£å¼
            ChevronUp: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="3" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M18 15l-6-6-6 6"/></svg>,
            ChevronDown: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="3" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M6 9l6 6 6-6"/></svg>,
            ChevronLeft: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="3" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M15 19l-7-7 7-7"/></svg>,
            ChevronRight: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="3" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M9 5l7 7-7 7"/></svg>
        };

        // --- å…¨å±€å°èˆª ---
        const Navbar = ({ current, total, next, prev }) => (
            <div className="fixed bottom-0 w-full bg-white/90 backdrop-blur border-t border-gray-200 p-4 flex justify-between items-center shadow-lg z-50 h-24">
                <button onClick={prev} disabled={current === 0} className={`flex items-center gap-3 px-8 py-4 rounded-full text-2xl font-bold transition ${current === 0 ? 'bg-gray-200 text-gray-400' : 'bg-blue-100 text-blue-700 hover:bg-blue-200'}`}>
                    <Icons.ArrowLeft size={28} /> ä¸Šä¸€é—œ
                </button>
                <div className="text-3xl font-black text-blue-600 tracking-widest">
                    é—œå¡ï¼š{current} / {total - 2}
                </div>
                <button onClick={next} disabled={current === total - 1} className={`flex items-center gap-3 px-8 py-4 rounded-full text-2xl font-bold transition ${current === total - 1 ? 'bg-gray-200 text-gray-400' : 'bg-blue-600 text-white hover:bg-blue-700 shadow-lg btn-active'}`}>
                    ä¸‹ä¸€é—œ <Icons.ArrowRight size={28} />
                </button>
            </div>
        );

        // --- æŠ½ç±¤çµ„ä»¶ (æ‡¸æµ®æŒ‰éˆ•) ---
        const LotteryWidget = () => {
            const [isOpen, setIsOpen] = useState(false);
            const [stage, setStage] = useState('idle'); 
            const [row, setRow] = useState(1);
            const [seat, setSeat] = useState(1);

            const startRoll = (type) => {
                if (type === 'row') setStage('rollingRow');
                else setStage('rollingSeat');
                
                let count = 0;
                const maxCount = 20;
                const interval = setInterval(() => {
                    const num = Math.floor(Math.random() * 6) + 1;
                    if (type === 'row') setRow(num);
                    else setSeat(num);
                    
                    count++;
                    if (count > maxCount) {
                        clearInterval(interval);
                        if (type === 'row') setStage('resultRow');
                        else setStage('resultSeat');
                    }
                }, 80);
            };

            const reset = () => {
                setStage('idle');
                setRow(1);
                setSeat(1);
            };

            return (
                <>
                    <button 
                        onClick={() => setIsOpen(true)}
                        className="fixed top-6 right-6 z-50 bg-pink-500 text-white p-5 rounded-full shadow-xl hover:bg-pink-600 hover:scale-110 transition transform border-4 border-white"
                        title="éš¨æ©ŸæŠ½ç±¤"
                    >
                        <Icons.Dice size={40} />
                    </button>

                    {isOpen && (
                        <div className="fixed inset-0 bg-black/50 z-[60] flex items-center justify-center backdrop-blur-sm">
                            <div className="bg-white rounded-[2rem] p-10 w-[600px] shadow-2xl text-center relative border-8 border-pink-100 animate-bounce-in">
                                <button onClick={() => setIsOpen(false)} className="absolute top-6 right-6 text-slate-400 hover:text-slate-600">
                                    <Icons.XCircle size={40} />
                                </button>
                                
                                <h3 className="text-4xl font-black text-pink-600 mb-10 flex justify-center items-center gap-3">
                                    <Icons.Dice size={48}/> å¹¸é‹æŠ½ç±¤æ©Ÿ
                                </h3>

                                <div className="flex gap-8 justify-center mb-12">
                                    <div className={`w-48 h-56 rounded-3xl border-4 flex flex-col items-center justify-center ${stage === 'rollingRow' ? 'border-pink-400 bg-pink-50' : (stage !== 'idle' ? 'border-pink-600 bg-pink-100' : 'border-slate-200 bg-slate-50')}`}>
                                        <span className="text-slate-500 font-bold text-2xl mb-4">ç¬¬å¹¾æ’</span>
                                        <span className={`text-8xl font-black ${stage === 'rollingRow' ? 'text-pink-400 blur-sm' : 'text-pink-600'}`}>
                                            {row}
                                        </span>
                                    </div>

                                    <div className={`w-48 h-56 rounded-3xl border-4 flex flex-col items-center justify-center ${stage === 'rollingSeat' ? 'border-blue-400 bg-blue-50' : (stage === 'resultSeat' ? 'border-blue-600 bg-blue-100' : 'border-slate-200 bg-slate-50')}`}>
                                        <span className="text-slate-500 font-bold text-2xl mb-4">ç¬¬å¹¾è™Ÿ</span>
                                        <span className={`text-8xl font-black ${stage === 'rollingSeat' ? 'text-blue-400 blur-sm' : 'text-blue-600'}`}>
                                            {seat === '?' ? '?' : seat}
                                        </span>
                                    </div>
                                </div>

                                <div className="flex justify-center gap-6">
                                    {stage === 'idle' && (
                                        <button onClick={() => startRoll('row')} className="bg-pink-500 text-white px-10 py-4 rounded-full text-3xl font-bold hover:bg-pink-600 shadow-lg w-full transform hover:scale-105 transition">
                                            æŠ½æ’æ•¸ï¼
                                        </button>
                                    )}
                                    {stage === 'resultRow' && (
                                        <button onClick={() => startRoll('seat')} className="bg-blue-500 text-white px-10 py-4 rounded-full text-3xl font-bold hover:bg-blue-600 shadow-lg w-full transform hover:scale-105 transition">
                                            æŠ½åº§è™Ÿï¼
                                        </button>
                                    )}
                                    {stage === 'resultSeat' && (
                                        <button onClick={reset} className="bg-slate-500 text-white px-10 py-4 rounded-full text-3xl font-bold hover:bg-slate-600 shadow-lg w-full transform hover:scale-105 transition">
                                            å†æŠ½ä¸€æ¬¡
                                        </button>
                                    )}
                                </div>
                            </div>
                        </div>
                    )}
                </>
            );
        };

        // --- é é¢çµ„ä»¶ ---

        // 0. å°é¢
        const CoverSlide = ({ onStart }) => (
            <div className="h-full flex flex-col items-center justify-center bg-gradient-to-br from-cyan-500 to-blue-600 text-white p-8 slide-enter">
                <div className="bg-white/20 p-12 rounded-full mb-10 backdrop-blur-sm animate-pulse">
                    <Icons.Search size={120} color="white" />
                </div>
                <h1 className="text-8xl font-black mb-8 tracking-wider drop-shadow-lg">é–±è®€åµæ¢åœ˜</h1>
                <h2 className="text-5xl font-bold mb-16 text-cyan-100">ä»»å‹™ï¼šè§£é–è¡Œå‹•å¯†ç¢¼</h2>
                <div className="bg-white/10 rounded-3xl p-10 backdrop-blur-md mb-16 max-w-4xl text-center border border-white/30">
                    <p className="text-3xl mb-6 font-bold">æœ¬æ—¥ä»»å‹™ï¼š10 å€‹æŒ‘æˆ°é—œå¡</p>
                    <div className="flex justify-center gap-8 text-2xl text-cyan-50 font-bold">
                        <span className="flex items-center gap-2"><Icons.Search size={28}/> æœå°‹æŠ€å·§</span>
                        <span className="flex items-center gap-2"><Icons.Book size={28}/> å·¥å…·æ›¸ä½¿ç”¨</span>
                        <span className="flex items-center gap-2"><Icons.Chart size={28}/> åœ–è¡¨åˆ¤è®€</span>
                        <span className="flex items-center gap-2"><Icons.Users size={28}/> èŠæ©çš„æ•…äº‹</span>
                    </div>
                </div>
                <button onClick={onStart} className="bg-yellow-400 text-blue-900 px-20 py-8 rounded-full text-5xl font-black shadow-2xl hover:bg-yellow-300 transition transform hover:scale-105 active:scale-95">
                    é–‹å§‹å†’éšª
                </button>
            </div>
        );

        // 1. é—œéµå­—æœå°‹ (æ•™å¸«æ§å ´ç‰ˆ)
        const Task1_Search = () => {
            const [revealLevel, setRevealLevel] = useState(0); // 0: None, 1: Ryan, 2: Exclude, 3: Complete
            const [feedback, setFeedback] = useState(null); // 'correct', 'wrong'

            const handleCorrect = () => {
                setFeedback('correct');
                if (revealLevel < 3) {
                    setTimeout(() => {
                        setRevealLevel(prev => prev + 1);
                        setFeedback(null);
                    }, 1000);
                }
            };

            const handleWrong = () => {
                setFeedback('wrong');
                setTimeout(() => setFeedback(null), 1500);
            };

            return (
                <div className="h-full bg-blue-50 flex flex-col items-center pt-24 px-8 slide-enter relative">
                    <LotteryWidget />
                    <h2 className="text-5xl font-bold text-blue-800 mb-6">é—œå¡ 1ï¼šé—œéµå­—çµäºº (æ•™å¸«æ§å ´)</h2>
                    <p className="text-3xl text-slate-600 mb-16 text-center max-w-5xl leading-relaxed">æƒ…å¢ƒï¼šæƒ³æ‰¾ã€Œæ°´äº•ã€è³‡æ–™ä½†ä¸æƒ³çœ‹åˆ°ææ€–ç‰‡ã€Œè²å­ã€ï¼Œ<br/>è«‹åŒå­¸å›ç­”æ­£ç¢ºé—œéµå­—ï¼</p>

                    {/* æœå°‹æ¡†é¡¯ç¤ºå€ */}
                    <div className="w-full max-w-5xl bg-white rounded-full shadow-2xl flex items-center p-8 mb-16 border-8 border-blue-200 min-h-[160px]">
                        <Icons.Search className="text-slate-400 ml-6 mr-8" size={64} />
                        <div className="flex-1 flex gap-6 overflow-x-auto text-5xl font-bold text-slate-700 items-center">
                            {revealLevel >= 1 && <span className="bg-green-100 text-green-800 px-8 py-4 rounded-3xl border-4 border-green-300 animate-bounce">"èŠæ©"</span>}
                            {revealLevel >= 2 && <span className="bg-blue-100 text-blue-800 px-8 py-4 rounded-3xl border-4 border-blue-300 animate-bounce">æ°´äº• -é›»å½±</span>}
                            {revealLevel === 0 && <span className="text-slate-300 italic text-4xl tracking-widest">ç­‰å¾…è¼¸å…¥ä¸­...</span>}
                        </div>
                    </div>

                    {/* æ•™å¸«æ§åˆ¶å€ */}
                    <div className="flex gap-20 justify-center items-center mt-8">
                        <button 
                            onClick={handleCorrect}
                            disabled={revealLevel >= 3}
                            className="w-48 h-48 bg-white rounded-full border-[10px] border-green-500 text-green-500 shadow-xl hover:bg-green-50 active:scale-95 transition flex flex-col items-center justify-center group disabled:opacity-50 disabled:cursor-not-allowed"
                        >
                            <Icons.Check size={100} strokeWidth={5} />
                            <span className="font-black text-3xl mt-2">ç­”å° (O)</span>
                        </button>

                        <button 
                            onClick={handleWrong}
                            className="w-48 h-48 bg-white rounded-full border-[10px] border-red-500 text-red-500 shadow-xl hover:bg-red-50 active:scale-95 transition flex flex-col items-center justify-center group"
                        >
                            <Icons.X size={100} strokeWidth={5} />
                            <span className="font-black text-3xl mt-2">ç­”éŒ¯ (X)</span>
                        </button>
                    </div>

                    {/* å›é¥‹å‹•ç•« */}
                    {feedback === 'correct' && (
                        <div className="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-green-500 animate-ping opacity-75 pointer-events-none">
                            <Icons.Check size={400} />
                        </div>
                    )}
                    {feedback === 'wrong' && (
                        <div className="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-red-500 animate-ping opacity-75 pointer-events-none">
                            <Icons.X size={400} />
                        </div>
                    )}
                </div>
            );
        };

        // 2. å­—å…¸æŸ¥æ‰¾ (Sorting) - å„ªåŒ–ç®­é ­æŒ‰éˆ•
        const Task2_Dict = () => {
            const correctOrder = ["ç¢ºå®šéƒ¨é¦–", "è¨ˆç®—éƒ¨é¦–ç­†ç•«", "ç¿»æª¢ç´¢é ç¢¼", "è¨ˆç®—å‰©é¤˜ç­†ç•«", "æŸ¥åˆ°å­—ç¾©"];
            const [items, setItems] = useState([...correctOrder].sort(() => Math.random() - 0.5));
            
            const moveItem = (idx, dir) => {
                const newItems = [...items];
                const swapIdx = idx + dir;
                if(swapIdx >= 0 && swapIdx < items.length) {
                    [newItems[idx], newItems[swapIdx]] = [newItems[swapIdx], newItems[idx]];
                    setItems(newItems);
                }
            };

            const isSuccess = JSON.stringify(items) === JSON.stringify(correctOrder);

            return (
                <div className="h-full bg-orange-50 flex flex-col items-center pt-24 px-8 slide-enter relative">
                    <LotteryWidget />
                    <h2 className="text-5xl font-bold text-orange-800 mb-6">é—œå¡ 2ï¼šå­—å…¸å°åµæ¢</h2>
                    <p className="text-3xl text-slate-600 mb-12">è«‹ä¾ç…§ã€Œéƒ¨é¦–ç´¢å¼•æ³•ã€çš„æ­£ç¢ºé †åºï¼Œå°‡æ­¥é©Ÿç”±ä¸Šå¾€ä¸‹æ’åˆ—ï¼</p>
                    <div className="flex flex-col gap-6 w-full max-w-3xl">
                        {items.map((item, idx) => (
                            <div key={item} className={`flex items-center justify-between p-6 rounded-2xl text-3xl font-bold shadow-lg border-4 transition-all duration-300 ${isSuccess ? 'bg-green-100 border-green-500 text-green-800 scale-105' : 'bg-white border-orange-200 text-slate-700'}`}>
                                <div className="flex items-center">
                                    <span className="bg-orange-200 w-14 h-14 rounded-full flex items-center justify-center text-orange-900 mr-6 text-2xl">{idx+1}</span>
                                    {item}
                                </div>
                                <div className="flex gap-4">
                                    <button onClick={()=>moveItem(idx, -1)} disabled={idx === 0} className="p-4 bg-blue-500 text-white rounded-full shadow-md hover:bg-blue-600 hover:scale-110 transition disabled:opacity-30 disabled:cursor-not-allowed">
                                        <Icons.ChevronUp size={32} />
                                    </button>
                                    <button onClick={()=>moveItem(idx, 1)} disabled={idx === items.length - 1} className="p-4 bg-blue-500 text-white rounded-full shadow-md hover:bg-blue-600 hover:scale-110 transition disabled:opacity-30 disabled:cursor-not-allowed">
                                        <Icons.ChevronDown size={32} />
                                    </button>
                                </div>
                            </div>
                        ))}
                    </div>
                    {isSuccess && <div className="mt-10 text-5xl font-bold text-green-600 animate-bounce">ğŸ‰ æ’åºæ­£ç¢ºï¼å¤ªå²å®³äº†ï¼</div>}
                </div>
            );
        };

        // 3. è³‡è¨Šåˆ¤è®€ (True/False)
        const Task3_Info = () => {
            const [answer, setAnswer] = useState(null);
            return (
                <div className="h-full bg-purple-50 flex flex-col items-center pt-24 px-8 slide-enter relative">
                    <LotteryWidget />
                    <h2 className="text-5xl font-bold text-purple-800 mb-6">é—œå¡ 3ï¼šè¬ è¨€ç²‰ç¢æ©Ÿ</h2>
                    <p className="text-3xl text-slate-600 mb-16">é¡Œç›®ï¼šç¶²è·¯ä¸Šçœ‹åˆ°ã€Œå–é¹½æ°´å¯ä»¥æ²»ç™‚è¿‘è¦–ã€çš„æ–‡ç« ï¼Œ<br/>æ‡‰è©²ç›´æ¥è½‰å‚³çµ¦æœ‹å‹å—ï¼Ÿ</p>
                    
                    <div className="flex gap-16 w-full max-w-5xl h-80">
                        <button onClick={()=>setAnswer(true)} className={`flex-1 rounded-[3rem] text-6xl font-black border-8 transition transform hover:scale-105 active:scale-95 ${answer===true ? 'bg-red-600 text-white border-red-800' : 'bg-white text-red-500 border-red-200 hover:bg-red-50'}`}>
                            â­• å¯ä»¥
                        </button>
                        <button onClick={()=>setAnswer(false)} className={`flex-1 rounded-[3rem] text-6xl font-black border-8 transition transform hover:scale-105 active:scale-95 ${answer===false ? 'bg-green-600 text-white border-green-800' : 'bg-white text-green-500 border-green-200 hover:bg-green-50'}`}>
                            âŒ ä¸è¡Œ
                        </button>
                    </div>
                    
                    {answer === false && (
                        <div className="mt-12 p-8 bg-green-100 rounded-3xl border-4 border-green-500 text-green-800 text-3xl font-bold max-w-4xl shadow-xl animate-fade-in">
                            <p className="mb-2">âœ… æ­£ç¢ºï¼ç¶²è·¯è³‡è¨Šéœ€æŸ¥è­‰ï¼Œå°¤å…¶æ˜¯é†«ç™‚åæ–¹ã€‚</p>
                            <p>ğŸ’¡ å»ºè­°æŸ¥è©¢ã€Œè¡›ç¦éƒ¨ã€æˆ–ã€ŒæŸ¥æ ¸ä¸­å¿ƒã€ç¢ºèªã€‚</p>
                        </div>
                    )}
                    {answer === true && (
                        <div className="mt-12 p-8 bg-red-100 rounded-3xl border-4 border-red-500 text-red-800 text-3xl font-bold shadow-xl animate-shake">
                            âš ï¸ å±éšªï¼æœªç¶“æŸ¥è­‰çš„è³‡è¨Šå¯èƒ½å®³äººå®³å·±å–”ï¼
                        </div>
                    )}
                </div>
            );
        };

        // 4. 5W1H (Multiple Choice)
        const Task4_5W1H = () => {
            const [selected, setSelected] = useState(null);
            return (
                <div className="h-full bg-cyan-50 flex flex-col items-center pt-24 px-8 slide-enter relative">
                    <LotteryWidget />
                    <h2 className="text-5xl font-bold text-cyan-800 mb-6">é—œå¡ 4ï¼š5W1H åµæ¢</h2>
                    <p className="text-3xl text-slate-600 mb-12">é—œæ–¼ã€Šè¡Œå‹•çš„æ°´æ»´ã€‹é€™ç¯‡æ–‡ç« ï¼Œä¸‹åˆ—å“ªå€‹ 5W1H åˆ†ææ˜¯<span className="text-red-500 font-black">éŒ¯èª¤</span>çš„ï¼Ÿ</p>
                    <div className="grid grid-cols-2 gap-8 w-full max-w-6xl">
                        {[
                            {id:1, t:"Whoï¼šä¸»è§’æ˜¯èŠæ©"}, 
                            {id:2, t:"Whereï¼šæ•…äº‹åœ¨åŠ æ‹¿å¤§èˆ‡éæ´²"}, 
                            {id:3, t:"Whyï¼šç‚ºäº†è³ºéŒ¢è²·ç©å…·"}, 
                            {id:4, t:"Whatï¼šç›®æ¨™æ˜¯é‘¿ä¸€å£äº•"}
                        ].map(opt => (
                            <button key={opt.id} onClick={()=>setSelected(opt.id)} className={`p-10 rounded-3xl text-4xl font-bold text-left border-[6px] transition transform hover:scale-105 ${selected === opt.id ? (opt.id===3 ? 'bg-green-100 border-green-500 text-green-800' : 'bg-red-100 border-red-500 text-red-800') : 'bg-white border-cyan-200 text-slate-700 hover:border-cyan-400'}`}>
                                {opt.t}
                            </button>
                        ))}
                    </div>
                    {selected === 3 && <div className="mt-12 text-4xl font-bold text-green-600 animate-bounce">âœ… ç­”å°äº†ï¼å‹•æ©Ÿæ˜¯ç‚ºäº†ã€Œæ•‘äººã€ä¸æ˜¯è²·ç©å…·ï¼</div>}
                </div>
            );
        };

        // 5. æ•…äº‹æ’åº (Timeline) - å„ªåŒ–ç®­é ­æŒ‰éˆ•
        const Task5_Timeline = () => {
            const correct = ["è½è€å¸«èªªæ•…äº‹", "åšå®¶äº‹å­˜éŒ¢", "ææ¬¾çµ¦åŸºé‡‘æœƒ", "å»çƒå¹²é”çœ‹æ°´äº•"];
            const [seq, setSeq] = useState(["ææ¬¾çµ¦åŸºé‡‘æœƒ", "è½è€å¸«èªªæ•…äº‹", "å»çƒå¹²é”çœ‹æ°´äº•", "åšå®¶äº‹å­˜éŒ¢"]);
            
            const swap = (i, j) => {
                if(j<0 || j>=seq.length) return;
                const newSeq = [...seq];
                [newSeq[i], newSeq[j]] = [newSeq[j], newSeq[i]];
                setSeq(newSeq);
            };
            const isDone = JSON.stringify(seq) === JSON.stringify(correct);

            return (
                <div className="h-full bg-indigo-50 flex flex-col items-center pt-24 px-8 slide-enter relative">
                    <LotteryWidget />
                    <h2 className="text-5xl font-bold text-indigo-800 mb-6">é—œå¡ 5ï¼šæ™‚å…‰å›æº¯å™¨</h2>
                    <p className="text-3xl text-slate-600 mb-16">è«‹ä¾æ™‚é–“å…ˆå¾Œï¼Œé‡çµ„èŠæ©çš„æ•…äº‹ï¼</p>
                    <div className="flex gap-8 items-center">
                        {seq.map((item, i) => (
                            <div key={i} className="flex flex-col items-center">
                                <div className={`w-64 h-64 flex items-center justify-center p-6 text-center text-3xl font-bold rounded-[2rem] border-[6px] shadow-xl transition-all duration-500 ${isDone ? 'bg-green-100 border-green-500 text-green-800 scale-110' : 'bg-white border-indigo-200 text-indigo-900'}`}>
                                    {item}
                                </div>
                                {!isDone && (
                                    <div className="flex gap-4 mt-6">
                                        <button onClick={()=>swap(i, i-1)} disabled={i===0} className="p-4 bg-indigo-500 text-white rounded-full shadow-lg hover:bg-indigo-600 hover:scale-110 transition disabled:opacity-30 disabled:cursor-not-allowed">
                                            <Icons.ChevronLeft size={36} />
                                        </button>
                                        <button onClick={()=>swap(i, i+1)} disabled={i===seq.length-1} className="p-4 bg-indigo-500 text-white rounded-full shadow-lg hover:bg-indigo-600 hover:scale-110 transition disabled:opacity-30 disabled:cursor-not-allowed">
                                            <Icons.ChevronRight size={36} />
                                        </button>
                                    </div>
                                )}
                            </div>
                        ))}
                    </div>
                    {isDone && <div className="mt-16 text-5xl font-bold text-green-600 animate-bounce">ğŸ‘ æ•…äº‹é‡çµ„æˆåŠŸï¼</div>}
                </div>
            );
        };

        // 6. DFC åˆ†é¡ (Matching)
        const Task6_DFC = () => {
            const [matches, setMatches] = useState({});
            const [current, setCurrent] = useState(null);
            
            const options = [
                {id: 'feel', label: 'æ„Ÿå—', text: 'è¦ºå¾—éœ‡é©šé›£é'},
                {id: 'imagine', label: 'æƒ³åƒ', text: 'æ±ºå®šé è‡ªå·±è³ºéŒ¢'},
                {id: 'do', label: 'å¯¦è¸', text: 'å¹«é„°å±…æ“¦çª—æˆ¶'},
                {id: 'share', label: 'åˆ†äº«', text: 'æ¼”è¬›å½±éŸ¿ä»–äºº'}
            ];

            const handleMatch = (stepId) => {
                if(current) {
                    if(current.id === stepId) {
                        setMatches({...matches, [stepId]: true});
                        setCurrent(null);
                    } else {
                        alert('ä¸å°å–”ï¼Œå†è©¦è©¦çœ‹ï¼');
                        setCurrent(null);
                    }
                }
            };

            return (
                <div className="h-full bg-pink-50 flex flex-col items-center pt-24 px-8 slide-enter relative">
                    <LotteryWidget />
                    <h2 className="text-5xl font-bold text-pink-800 mb-6">é—œå¡ 6ï¼šDFC è¡Œå‹•è§£ç¢¼</h2>
                    <p className="text-3xl text-slate-600 mb-12">è«‹é»é¸ä¸‹æ–¹çš„å…·é«”è¡Œå‹•ï¼Œå†é»é¸ä¸Šæ–¹å°æ‡‰çš„æ­¥é©Ÿï¼</p>
                    
                    {/* Targets */}
                    <div className="flex gap-8 mb-16">
                        {options.map(o => (
                            <div key={o.id} onClick={()=>handleMatch(o.id)} className={`w-64 h-40 rounded-3xl border-[6px] border-dashed flex items-center justify-center text-4xl font-bold cursor-pointer transition transform hover:scale-105 ${matches[o.id] ? 'bg-pink-200 border-pink-500 text-pink-800 border-solid' : 'bg-white/50 border-pink-300 text-slate-400 hover:bg-white hover:border-pink-400'}`}>
                                {matches[o.id] ? o.text : o.label}
                            </div>
                        ))}
                    </div>

                    {/* Sources */}
                    <div className="flex gap-8 flex-wrap justify-center">
                        {options.map(o => !matches[o.id] && (
                            <button key={o.id} onClick={()=>setCurrent(o)} className={`px-10 py-8 bg-white rounded-2xl shadow-xl text-3xl font-bold border-4 border-slate-200 hover:border-pink-500 hover:text-pink-600 hover:-translate-y-2 transition ${current?.id===o.id ? 'ring-8 ring-pink-300 border-pink-500' : ''}`}>
                                {o.text}
                            </button>
                        ))}
                    </div>
                    
                    {Object.keys(matches).length === 4 && <div className="mt-12 text-5xl font-bold text-pink-600 animate-pulse">âœ¨ å…¨æ•¸è§£ç¢¼å®Œæˆï¼</div>}
                </div>
            );
        };

        // 7. åœ–è¡¨åˆ†æ (Visual)
        const Task7_Chart = () => {
            const [ans, setAns] = useState(null);
            return (
                <div className="h-full bg-slate-50 flex flex-col items-center pt-24 px-8 slide-enter relative">
                    <LotteryWidget />
                    <h2 className="text-5xl font-bold text-slate-800 mb-6">é—œå¡ 7ï¼šåœ–è¡¨æ•¸æ“šçœ¼</h2>
                    <p className="text-3xl text-slate-600 mb-12">æ ¹æ“šã€Šèªæ–‡å¸¸è­˜äºŒã€‹çš„è¿‘è¦–ç››è¡Œç‡åœ–è¡¨æ¦‚å¿µï¼Œè«‹å•ï¼š</p>
                    
                    <div className="flex gap-16 items-center w-full max-w-6xl">
                        <div className="w-1/2 bg-white p-10 rounded-3xl shadow-2xl border-4 border-slate-200">
                            <h3 className="text-2xl font-bold mb-8 text-center text-slate-700">å„å¹´ç´šè¿‘è¦–æ¯”ç‡ (ç¤ºæ„åœ–)</h3>
                            <div className="space-y-8 text-2xl font-bold text-slate-600">
                                <div className="flex items-center gap-4"><span className="w-16">å°ä¸€</span><div className="h-8 bg-blue-300 w-[20%] rounded-r-lg"></div> 20%</div>
                                <div className="flex items-center gap-4"><span className="w-16">å°å…­</span><div className="h-8 bg-blue-500 w-[65%] rounded-r-lg"></div> 65%</div>
                                <div className="flex items-center gap-4"><span className="w-16">åœ‹ä¸‰</span><div className="h-8 bg-blue-700 w-[89%] rounded-r-lg"></div> 89%</div>
                            </div>
                        </div>
                        <div className="w-1/2 space-y-6">
                            <p className="text-3xl font-bold mb-6 text-blue-900">Qï¼šå¾åœ–è¡¨ä¸­å¯ä»¥ç™¼ç¾ä»€éº¼è¶¨å‹¢ï¼Ÿ</p>
                            <button onClick={()=>setAns(false)} className={`w-full p-6 text-2xl font-bold rounded-2xl border-4 text-left transition hover:scale-105 ${ans===false ? 'bg-red-100 border-red-500' : 'bg-white hover:border-slate-400'}`}>A. å¹´ç´€è¶Šå°ï¼Œè¿‘è¦–è¶Šåš´é‡</button>
                            <button onClick={()=>setAns(true)} className={`w-full p-6 text-2xl font-bold rounded-2xl border-4 text-left transition hover:scale-105 ${ans===true ? 'bg-green-100 border-green-500' : 'bg-white hover:border-slate-400'}`}>B. éš¨è‘—å¹´ç´šå¢åŠ ï¼Œè¿‘è¦–ç‡å¤§å¹…ä¸Šå‡</button>
                            <button onClick={()=>setAns(false)} className={`w-full p-6 text-2xl font-bold rounded-2xl border-4 text-left transition hover:scale-105 ${ans===false ? 'bg-red-100 border-red-500' : 'bg-white hover:border-slate-400'}`}>C. åœ‹ä¸‰å­¸ç”Ÿè¦–åŠ›æœ€å¥½</button>
                        </div>
                    </div>
                </div>
            );
        };

        // 8. æˆèªæ‡‰ç”¨ (Idiom)
        const Task8_Idiom = () => {
            const [sel, setSel] = useState(null);
            return (
                <div className="h-full bg-emerald-50 flex flex-col items-center pt-24 px-8 slide-enter relative">
                    <LotteryWidget />
                    <h2 className="text-5xl font-bold text-emerald-800 mb-6">é—œå¡ 8ï¼šæˆèªæ™ºæ…§ç‹</h2>
                    <p className="text-3xl text-slate-600 mb-12 text-center">èŠæ©é›–ç„¶åªæ˜¯å€‹å­©å­ï¼Œä½†ä»–ã€Œä¸€å¡ŠéŒ¢ä¸€å¡ŠéŒ¢ã€æ…¢æ…¢å­˜ï¼Œ<br/>æœ€å¾Œå®Œæˆäº†å¤§å¤¢æƒ³ã€‚é€™æœ€é©åˆç”¨å“ªå¥æˆèªå½¢å®¹ï¼Ÿ</p>
                    <div className="grid grid-cols-2 gap-8 max-w-5xl w-full">
                        {[
                            {t:"åŠŸè™§ä¸€ç°£", r:"éŒ¯äº†ï¼Œé€™æ˜¯æŒ‡å·®ä¸€é»å¤±æ•—"}, 
                            {t:"èšæ²™æˆå¡”", r:"æ­£ç¢ºï¼æ¯”å–»ç©å°‘æˆå¤š"}, 
                            {t:"å¥½é«˜é¨–é ", r:"ä¸å°ï¼Œé€™æ˜¯æŒ‡ä¸åˆ‡å¯¦éš›"}, 
                            {t:"ç´™ä¸Šè«‡å…µ", r:"éŒ¯ï¼ŒèŠæ©æœ‰å¯¦éš›è¡Œå‹•"}
                        ].map((o, i) => (
                            <button key={i} onClick={()=>setSel(i)} className={`p-10 rounded-[2rem] text-5xl font-black shadow-lg transition transform hover:scale-105 border-4 ${sel===i ? (o.t==='èšæ²™æˆå¡”'?'bg-green-500 text-white border-green-600':'bg-red-500 text-white border-red-600') : 'bg-white text-emerald-900 hover:bg-emerald-100 border-emerald-100'}`}>
                                {o.t}
                            </button>
                        ))}
                    </div>
                    {sel !== null && (
                        <div className="mt-12 text-4xl font-bold bg-white px-12 py-6 rounded-3xl shadow-xl animate-bounce border-4 border-emerald-200">
                            {[
                                {t:"åŠŸè™§ä¸€ç°£", r:"âŒ éŒ¯äº†ï¼Œé€™æ˜¯æŒ‡ã€Œåªå·®æœ€å¾Œä¸€æ­¥å»å¤±æ•—ã€ã€‚"}, 
                                {t:"èšæ²™æˆå¡”", r:"â­• æ­£ç¢ºï¼æ¯”å–»ç©å°‘æˆå¤šï¼Œå°±åƒèŠæ©å­˜éŒ¢ä¸€æ¨£ï¼"}, 
                                {t:"å¥½é«˜é¨–é ", r:"âŒ ä¸å°ï¼Œé€™æ˜¯æŒ‡ã€Œç›®æ¨™éé«˜è€Œä¸åˆ‡å¯¦éš›ã€ã€‚"}, 
                                {t:"ç´™ä¸Šè«‡å…µ", r:"âŒ éŒ¯ï¼ŒèŠæ©æœ‰å¯¦éš›è¡Œå‹•ï¼Œä¸åªæ˜¯ç©ºè«‡ã€‚"}
                            ][sel].r}
                        </div>
                    )}
                </div>
            );
        };

        // 9. å°çµ„æ´»å‹•
        const Task9_Group = () => {
            const [time, setTime] = useState(180);
            const [active, setActive] = useState(false);
            const [topicIndex, setTopicIndex] = useState(null);
            const [isSpinning, setIsSpinning] = useState(false);

            const topics = [
                { t: "å­¸æ ¡å»æ‰€å¤ªé«’äº‚ï¼Œå¦‚ä½•æ”¹å–„ï¼Ÿ", h: "æç¤ºï¼šæ„Ÿå—(é«’äº‚åŸå› ) â†’ æƒ³åƒ(è§£æ±ºæ–¹æ¡ˆ) â†’ å¯¦è¸(æ‰“æƒæ’ç¨‹/æ¨™èª) â†’ åˆ†äº«(å®£å°)" },
                { t: "åŒå­¸ä¸æ„›å›æ”¶ï¼Œåƒåœ¾æ¡¶çˆ†æ»¿æ€éº¼è¾¦ï¼Ÿ", h: "æç¤ºï¼šè§€å¯Ÿèª°åœ¨äº‚ä¸Ÿï¼Ÿè¨­è¨ˆæœ‰è¶£çš„å›æ”¶æ¡¶ï¼Ÿèˆ‰è¾¦å›æ”¶æ¯”è³½ï¼Ÿ" },
                { t: "æ ¡åœ’è§’è½é»‘é»‘çš„ï¼Œå¤§å®¶ä¸æ•¢å»ï¼Œå¦‚ä½•æ”¹é€ ï¼Ÿ", h: "æç¤ºï¼šå¯ä»¥å½©ç¹ªå—ï¼Ÿå¯ä»¥ç¨®èŠ±å—ï¼Ÿå¦‚ä½•è®“å®ƒè®Šäº®ï¼Ÿ" },
                { t: "å¦‚æœæˆ‘å€‘ç­è¦ç™¼èµ·ç¾©è³£ï¼Œè¦è³£ä»€éº¼ï¼Ÿ", h: "æç¤ºï¼šä»€éº¼æ±è¥¿å¤§å®¶æœƒè²·ï¼Ÿæˆæœ¬ä½ï¼Ÿæœ‰æ„ç¾©ï¼Ÿ" },
                { t: "å¦‚ä½•å¹«åŠ©è½‰å­¸ç”Ÿå¿«é€Ÿèå…¥ç­ç´šï¼Ÿ", h: "æç¤ºï¼šä»–éœ€è¦ä»€éº¼ï¼Ÿ(æœ‹å‹/åš®å°) æˆ‘å€‘å¯ä»¥åšä»€éº¼ï¼Ÿ(ä¸€èµ·åƒé£¯/ç©)" },
                { t: "åˆé¤å¸¸å¸¸å‰©å¾ˆå¤šï¼Œå¾ˆæµªè²»ï¼Œæ€éº¼è¾¦ï¼Ÿ", h: "æç¤ºï¼šç‚ºä»€éº¼æœƒå‰©ï¼Ÿ(ä¸å¥½åƒ/å¤ªå¤š) å¯ä»¥æ¸›å°‘ä»½é‡æˆ–æ”¹è®Šèœå–®å—ï¼Ÿ" }
            ];

            useEffect(()=>{
                let i;
                if(active && time>0) i=setInterval(()=>setTime(t=>t-1),1000);
                return ()=>clearInterval(i);
            },[active, time]);

            const adjustTime = (seconds) => {
                setTime(prev => Math.max(0, prev + seconds));
            };

            const spinTopic = () => {
                if(isSpinning) return;
                setIsSpinning(true);
                let count = 0;
                const maxCount = 15;
                const interval = setInterval(() => {
                    setTopicIndex(Math.floor(Math.random() * topics.length));
                    count++;
                    if (count >= maxCount) {
                        clearInterval(interval);
                        setIsSpinning(false);
                    }
                }, 100);
            };

            return (
                <div className="h-full bg-yellow-50 flex flex-col items-center pt-16 px-8 slide-enter">
                    <h2 className="text-5xl font-bold text-yellow-800 mb-6">é—œå¡ 9ï¼šå°çµ„è¡Œå‹•ç­–åŠƒ</h2>
                    <p className="text-3xl text-slate-600 mb-12">è«‹å„çµ„é‹ç”¨ DFC å››æ­¥é©Ÿï¼Œé‡å°æŠ½åˆ°çš„é¡Œç›®é€²è¡Œè¨è«–ï¼</p>
                    
                    <div className="flex w-full max-w-7xl gap-12 h-[600px]">
                        <div className="w-1/2 bg-white rounded-[3rem] shadow-2xl border-8 border-yellow-200 p-10 flex flex-col items-center justify-between">
                            <h3 className="text-4xl font-black text-slate-700">ä»Šæ—¥æŒ‘æˆ°é¡Œç›®</h3>
                            <div className="flex-1 w-full flex flex-col justify-center items-center text-center">
                                {topicIndex !== null ? (
                                    <div className="animate-fade-in w-full">
                                        <p className="text-4xl font-bold text-blue-900 mb-8 leading-normal">{topics[topicIndex].t}</p>
                                        <div className="bg-yellow-100 p-6 rounded-2xl text-yellow-900 text-2xl font-medium border-l-8 border-yellow-500 text-left">
                                            ğŸ’¡ {topics[topicIndex].h}
                                        </div>
                                    </div>
                                ) : (
                                    <p className="text-slate-300 text-4xl font-bold">è«‹é»æ“Šä¸‹æ–¹æŒ‰éˆ•æŠ½å–...</p>
                                )}
                            </div>
                            <button onClick={spinTopic} disabled={isSpinning} className="bg-yellow-400 text-yellow-900 px-12 py-5 rounded-full text-3xl font-black shadow-lg hover:bg-yellow-300 active:scale-95 transition flex items-center gap-3 transform hover:scale-105">
                                <Icons.RefreshCcw className={isSpinning ? 'animate-spin' : ''} size={32} /> æŠ½å–é¡Œç›®
                            </button>
                        </div>

                        <div className="w-1/2 bg-slate-800 rounded-[3rem] shadow-2xl border-8 border-slate-600 p-10 flex flex-col items-center text-white relative">
                            <h3 className="text-4xl font-bold mb-4">è¨è«–å€’æ•¸</h3>
                            <div className="flex-1 flex items-center justify-center w-full relative">
                                <div className={`text-[10rem] font-mono font-black tracking-widest ${time < 30 ? 'text-red-500 animate-pulse' : 'text-white'}`}>
                                    {Math.floor(time/60)}:{(time%60).toString().padStart(2,'0')}
                                </div>
                                <div className="absolute -right-4 flex flex-col gap-6">
                                    <button onClick={()=>adjustTime(60)} className="bg-slate-600 p-4 rounded-full hover:bg-slate-500 active:scale-95 shadow-lg" title="+1åˆ†é˜"><Icons.Plus size={32}/></button>
                                    <button onClick={()=>adjustTime(-60)} className="bg-slate-600 p-4 rounded-full hover:bg-slate-500 active:scale-95 shadow-lg" title="-1åˆ†é˜"><Icons.Minus size={32}/></button>
                                </div>
                            </div>
                            <div className="flex gap-8 w-full px-4">
                                <button onClick={()=>setActive(!active)} className={`flex-1 py-5 rounded-3xl text-4xl font-black shadow-lg transition active:translate-y-1 hover:scale-105 ${active ? 'bg-red-500 hover:bg-red-600' : 'bg-green-500 hover:bg-green-600'}`}>
                                    {active ? 'æš«åœ' : 'é–‹å§‹è¨ˆæ™‚'}
                                </button>
                                <button onClick={()=>{setActive(false); setTime(180);}} className="w-1/3 bg-gray-600 py-5 rounded-3xl text-3xl font-bold shadow-lg hover:bg-gray-500 active:translate-y-1 hover:scale-105">
                                    é‡ç½®
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // 10. çµ‚æ¥µæ¸¬é©— (Quiz)
        const Task10_Quiz = () => {
            const qs = [
                {q:"èŠæ©æƒ³æŒ–äº•æ˜¯ç‚ºäº†ä»€éº¼ï¼Ÿ", ops:["è³ºéŒ¢","æ•‘äºº","å¯«ä½œæ¥­"], a:1},
                {q:"ã€Œæ°´äº•ã€åœ¨ç¶²è·¯ä¸Šæœå°‹æ™‚ï¼Œè‹¥ä¸æƒ³çœ‹åˆ°é¬¼ç‰‡ï¼Œæ‡‰è¼¸å…¥ï¼Ÿ", ops:["æ°´äº• -é›»å½±","æ°´äº• +é¬¼ç‰‡","æ°´äº• è²å­"], a:0},
                {q:"ä¸‹åˆ—å“ªå¼µåœ–é©åˆå‘ˆç¾ã€Œå…¨ç­è¦–åŠ›ä¸è‰¯ç‡çš„è®ŠåŒ–ã€ï¼Ÿ", ops:["åœ“é¤…åœ–","æŠ˜ç·šåœ–","é•·æ¢åœ–"], a:1},
                {q:"èŠæ©çš„ç­†å‹å‰ç±³ä¾†è‡ªå“ªå€‹åœ‹å®¶ï¼Ÿ", ops:["ç¾åœ‹","çƒå¹²é”","åŠ æ‹¿å¤§"], a:1},
                {q:"ã€Œèšæ²™æˆå¡”ã€çš„æ„æ€æ˜¯ï¼Ÿ", ops:["è“‹æ²™å ¡","ç©å°‘æˆå¤š","æµªè²»æ™‚é–“"], a:1},
            ];
            const [idx, setIdx] = useState(0);
            const [score, setScore] = useState(0);
            const [showScore, setShowScore] = useState(false);

            const ans = (i) => {
                if(i === qs[idx].a) setScore(s=>s+20);
                if(idx < qs.length-1) setIdx(i=>i+1);
                else setShowScore(true);
            };

            return (
                <div className="h-full bg-blue-900 flex flex-col items-center pt-24 px-8 slide-enter text-white">
                    <h2 className="text-5xl font-bold text-yellow-400 mb-12">é—œå¡ 10ï¼šçµ‚æ¥µå¤§è€ƒé©—</h2>
                    
                    {!showScore ? (
                        <div className="bg-white/10 backdrop-blur-md p-12 rounded-[3rem] border border-white/20 max-w-5xl w-full text-center shadow-2xl">
                            <div className="text-3xl text-blue-200 mb-8 font-bold">ç¬¬ {idx+1} / 5 é¡Œ</div>
                            <h3 className="text-5xl font-bold mb-16 leading-relaxed">{qs[idx].q}</h3>
                            <div className="grid gap-8">
                                {qs[idx].ops.map((o, i) => (
                                    <button key={i} onClick={()=>ans(i)} className="bg-white text-blue-900 text-4xl font-bold py-6 rounded-2xl hover:bg-yellow-400 hover:scale-105 transition shadow-lg">
                                        {o}
                                    </button>
                                ))}
                            </div>
                        </div>
                    ) : (
                        <div className="text-center animate-bounce">
                            <Icons.Award size={150} className="mx-auto text-yellow-400 mb-8"/>
                            <div className="text-7xl font-black mb-6">æ¸¬é©—çµæŸï¼</div>
                            <div className="text-5xl">å¾—åˆ†ï¼š<span className="text-yellow-400 text-8xl font-black">{score}</span> / 100</div>
                            <button onClick={()=>{setIdx(0);setScore(0);setShowScore(false)}} className="mt-16 bg-blue-600 px-12 py-5 rounded-full text-3xl font-bold hover:bg-blue-500 shadow-xl hover:scale-105 transition">å†ç©ä¸€æ¬¡</button>
                        </div>
                    )}
                </div>
            );
        };

        // 11. çµèª
        const EndSlide = () => (
            <div className="h-full bg-slate-900 flex flex-col items-center justify-center p-8 text-center text-white slide-enter">
                <h2 className="text-7xl font-black mb-16 text-transparent bg-clip-text bg-gradient-to-r from-yellow-200 to-yellow-500">
                    çµèªï¼šé›è›‹èˆ‡é«˜ç‰†
                </h2>
                <div className="bg-white/10 p-16 rounded-[3rem] border border-white/20 shadow-2xl mb-16 max-w-5xl backdrop-blur-md">
                    <p className="text-5xl font-serif italic mb-12 leading-normal">ã€Œåœ¨é«˜ç‰†å’Œæ’å‘é«˜ç‰†çš„è›‹ä¹‹é–“ï¼Œ<br/>æˆ‘æ°¸é ç«™åœ¨è›‹é€™ä¸€é‚Šï¼ã€</p>
                    <div className="flex justify-center gap-16 text-3xl font-bold mt-8">
                        <div className="text-gray-400 flex items-center gap-4">ğŸ§± é«˜ç‰† = å¼·å‹¢ç’°å¢ƒ</div>
                        <div className="text-yellow-200 flex items-center gap-4">ğŸ¥š é›è›‹ = è„†å¼±ç”Ÿå‘½ (å¸Œæœ›)</div>
                    </div>
                </div>
                <p className="text-4xl text-blue-200 font-bold">åªè¦æœ‰è¡Œå‹•ï¼Œè„†å¼±çš„è›‹ä¹Ÿèƒ½å­µåŒ–å¸Œæœ›ï¼Œé£›è¶Šç¼ºæ°´çš„é«˜ç‰†ï¼</p>
            </div>
        );

        const App = () => {
            const [page, setPage] = useState(0);
            const pages = [
                <CoverSlide onStart={()=>setPage(1)}/>,
                <Task1_Search/>,
                <Task2_Dict/>,
                <Task3_Info/>,
                <Task4_5W1H/>,
                <Task5_Timeline/>,
                <Task6_DFC/>,
                <Task7_Chart/>,
                <Task8_Idiom/>,
                <Task9_Group/>,
                <Task10_Quiz/>,
                <EndSlide/>
            ];

            return (
                <div className="w-full h-full">
                    {pages[page]}
                    {page > 0 && <Navbar current={page} total={pages.length} prev={()=>setPage(p=>p-1)} next={()=>setPage(p=>p+1)} />}
                </div>
            );
        };

        ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
</body>
</html>
